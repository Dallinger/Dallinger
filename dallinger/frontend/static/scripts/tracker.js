(()=>{var t={736:t=>{var e;e=function(){Date.prototype.toISOString||function(){function t(t){var e=String(t);return 1===e.length&&(e="0"+e),e}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+t(this.getUTCMonth()+1)+"-"+t(this.getUTCDate())+"T"+t(this.getUTCHours())+":"+t(this.getUTCMinutes())+":"+t(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),"undefined"==typeof sessionStorage&&function(t){function e(){var e=(n.name,n.document),u=/\bsessionStorage\b=([^;]+)(;|$)/,l=u.exec(e.cookie);if(l){i=t.decodeURIComponent(l[1]),a=r.encode(i,a);for(var h=(o=new o(n,"name")).key(),f=0,d=h.length,g={};d>f;++f)0===(l=h[f]).indexOf(a)&&(s.push(l),g[l]=o.get(l),o.del(l));if(o=new o.constructor(n,"name",n.name),0<(this.length=s.length)){for(f=0,d=s.length,c=o.c,l=[];d>f;++f)l[f]=c.concat(o._c,o.escape(h=s[f]),c,c,(h=o.escape(g[h])).length,c,h);n.name+=l.join("")}}else e.cookie=["sessionStorage="+t.encodeURIComponent(i=r.key(128))].join(";"),a=r.encode(i,a),o=new o(n,"name",n.name),u.exec(e.cookie)||(s=null)}var n=t;try{for(;n!==n.top;)n=n.top}catch(t){}var r=function(t,e){return{decode:function(t,e){return this.encode(t,e)},encode:function(e,n){for(var r,o=e.length,i=n.length,a=[],s=[],c=0,u=0,l=0,h=0;256>c;++c)s[c]=c;for(c=0;256>c;++c)u=(u+(r=s[c])+e.charCodeAt(c%o))%256,s[c]=s[u],s[u]=r;for(u=0;i>l;++l)u=(u+(r=s[c=l%256]))%256,o=s[c]=s[u],s[u]=r,a[h++]=t(n.charCodeAt(l)^s[(o+r)%256]);return a.join("")},key:function(n){for(var r=0,o=[];n>r;++r)o[r]=t(1+(255*e()|0));return o.join("")}}}(t.String.fromCharCode,t.Math.random),o=function(t){function e(t,e,n){this._i=(this._data=n||"").length,(this._key=e)?this._storage=t:(this._storage={_key:t||""},this._key="_key")}function n(t,e){var n=this.c;return n.concat(this._c,this.escape(t),n,n,(e=this.escape(e)).length,n,e)}return e.prototype.c=String.fromCharCode(1),e.prototype._c=".",e.prototype.clear=function(){this._storage[this._key]=this._data},e.prototype.del=function(t){var e=this.get(t);null!==e&&(this._storage[this._key]=this._storage[this._key].replace(n.call(this,t,e),""))},e.prototype.escape=t.escape,e.prototype.get=function(t){var e=this._storage[this._key],n=this.c,r=e.indexOf(t=n.concat(this._c,this.escape(t),n,n),this._i),o=null;return r>-1&&(r=e.indexOf(n,r+t.length-1)+1,o=e.substring(r,r=e.indexOf(n,r)),o=this.unescape(e.substr(++r,o))),o},e.prototype.key=function(){for(var t=this._storage[this._key],e=this.c,n=e+this._c,r=this._i,o=[],i=0,a=0;-1<(r=t.indexOf(n,r));)o[a++]=this.unescape(t.substring(r+=2,i=t.indexOf(e,r))),r=t.indexOf(e,i)+2,r=1+(i=t.indexOf(e,r))+1*t.substring(r,i);return o},e.prototype.set=function(t,e){this.del(t),this._storage[this._key]+=n.call(this,t,e)},e.prototype.unescape=t.unescape,e}(t);"[object Opera]"===Object.prototype.toString.call(t.opera)&&(history.navigationMode="compatible",o.prototype.escape=t.encodeURIComponent,o.prototype.unescape=t.decodeURIComponent),e.prototype={length:0,key:function(t){if("number"!=typeof t||0>t||s.length<=t)throw"Invalid argument";return s[t]},getItem:function(t){if(t=a+t,l.call(u,t))return u[t];var e=o.get(t);return null!==e&&(e=u[t]=r.decode(i,e)),e},setItem:function(t,e){this.removeItem(t),t=a+t,o.set(t,r.encode(i,u[t]=""+e)),this.length=s.push(t)},removeItem:function(t){null!==o.get(t=a+t)&&(delete u[t],o.del(t),this.length=s.remove(t))},clear:function(){o.clear(),u={},s.length=0}};var i,a=n.document.domain,s=[],u={},l=u.hasOwnProperty;s.remove=function(t){var e=this.indexOf(t);return e>-1&&this.splice(e,1),this.length},s.indexOf||(s.indexOf=function(t){for(var e=0,n=this.length;n>e;++e)if(this[e]===t)return e;return-1}),n.sessionStorage&&((e=function(){}).prototype=n.sessionStorage),e=new e,null!==s&&(t.sessionStorage=e)}(window);var t=void 0===t?{}:t;if(function(t){function e(t,e){var n=t[0],s=t[1],c=t[2],u=t[3];n=r(n,s,c,u,e[0],7,-680876936),u=r(u,n,s,c,e[1],12,-389564586),c=r(c,u,n,s,e[2],17,606105819),s=r(s,c,u,n,e[3],22,-1044525330),n=r(n,s,c,u,e[4],7,-176418897),u=r(u,n,s,c,e[5],12,1200080426),c=r(c,u,n,s,e[6],17,-1473231341),s=r(s,c,u,n,e[7],22,-45705983),n=r(n,s,c,u,e[8],7,1770035416),u=r(u,n,s,c,e[9],12,-1958414417),c=r(c,u,n,s,e[10],17,-42063),s=r(s,c,u,n,e[11],22,-1990404162),n=r(n,s,c,u,e[12],7,1804603682),u=r(u,n,s,c,e[13],12,-40341101),c=r(c,u,n,s,e[14],17,-1502002290),n=o(n,s=r(s,c,u,n,e[15],22,1236535329),c,u,e[1],5,-165796510),u=o(u,n,s,c,e[6],9,-1069501632),c=o(c,u,n,s,e[11],14,643717713),s=o(s,c,u,n,e[0],20,-373897302),n=o(n,s,c,u,e[5],5,-701558691),u=o(u,n,s,c,e[10],9,38016083),c=o(c,u,n,s,e[15],14,-660478335),s=o(s,c,u,n,e[4],20,-405537848),n=o(n,s,c,u,e[9],5,568446438),u=o(u,n,s,c,e[14],9,-1019803690),c=o(c,u,n,s,e[3],14,-187363961),s=o(s,c,u,n,e[8],20,1163531501),n=o(n,s,c,u,e[13],5,-1444681467),u=o(u,n,s,c,e[2],9,-51403784),c=o(c,u,n,s,e[7],14,1735328473),n=i(n,s=o(s,c,u,n,e[12],20,-1926607734),c,u,e[5],4,-378558),u=i(u,n,s,c,e[8],11,-2022574463),c=i(c,u,n,s,e[11],16,1839030562),s=i(s,c,u,n,e[14],23,-35309556),n=i(n,s,c,u,e[1],4,-1530992060),u=i(u,n,s,c,e[4],11,1272893353),c=i(c,u,n,s,e[7],16,-155497632),s=i(s,c,u,n,e[10],23,-1094730640),n=i(n,s,c,u,e[13],4,681279174),u=i(u,n,s,c,e[0],11,-358537222),c=i(c,u,n,s,e[3],16,-722521979),s=i(s,c,u,n,e[6],23,76029189),n=i(n,s,c,u,e[9],4,-640364487),u=i(u,n,s,c,e[12],11,-421815835),c=i(c,u,n,s,e[15],16,530742520),n=a(n,s=i(s,c,u,n,e[2],23,-995338651),c,u,e[0],6,-198630844),u=a(u,n,s,c,e[7],10,1126891415),c=a(c,u,n,s,e[14],15,-1416354905),s=a(s,c,u,n,e[5],21,-57434055),n=a(n,s,c,u,e[12],6,1700485571),u=a(u,n,s,c,e[3],10,-1894986606),c=a(c,u,n,s,e[10],15,-1051523),s=a(s,c,u,n,e[1],21,-2054922799),n=a(n,s,c,u,e[8],6,1873313359),u=a(u,n,s,c,e[15],10,-30611744),c=a(c,u,n,s,e[6],15,-1560198380),s=a(s,c,u,n,e[13],21,1309151649),n=a(n,s,c,u,e[4],6,-145523070),u=a(u,n,s,c,e[11],10,-1120210379),c=a(c,u,n,s,e[2],15,718787259),s=a(s,c,u,n,e[9],21,-343485551),t[0]=l(n,t[0]),t[1]=l(s,t[1]),t[2]=l(c,t[2]),t[3]=l(u,t[3])}function n(t,e,n,r,o,i){return e=l(l(e,t),l(r,i)),l(e<<o|e>>>32-o,n)}function r(t,e,r,o,i,a,s){return n(e&r|~e&o,t,e,i,a,s)}function o(t,e,r,o,i,a,s){return n(e&o|r&~o,t,e,i,a,s)}function i(t,e,r,o,i,a,s){return n(e^r^o,t,e,i,a,s)}function a(t,e,r,o,i,a,s){return n(r^(e|~o),t,e,i,a,s)}function s(t){var e,n=[];for(e=0;64>e;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function c(t){for(var e="",n=0;4>n;n++)e+=h[t>>8*n+4&15]+h[t>>8*n&15];return e}function u(t){return function(t){for(var e=0;e<t.length;e++)t[e]=c(t[e]);return t.join("")}(function(t){txt="";var n,r=t.length,o=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(o,s(t.substring(n-64,n)));t=t.substring(n-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)i[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(e(o,i),n=0;16>n;n++)i[n]=0;return i[14]=8*r,e(o,i),o}(t))}function l(t,e){return t+e&4294967295}function l(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}var h="0123456789abcdef".split("");u("hello"),t.hash=u}(t),"undefined"!=typeof window)"undefined"==typeof sessionStorage&&function(t){function e(){var e=(n.name,n.document),u=/\bsessionStorage\b=([^;]+)(;|$)/,l=u.exec(e.cookie);if(l){i=t.decodeURIComponent(l[1]),a=r.encode(i,a);for(var h=(o=new o(n,"name")).key(),f=0,d=h.length,g={};d>f;++f)0===(l=h[f]).indexOf(a)&&(s.push(l),g[l]=o.get(l),o.del(l));if(o=new o.constructor(n,"name",n.name),0<(this.length=s.length)){for(f=0,d=s.length,c=o.c,l=[];d>f;++f)l[f]=c.concat(o._c,o.escape(h=s[f]),c,c,(h=o.escape(g[h])).length,c,h);n.name+=l.join("")}}else e.cookie=["sessionStorage="+t.encodeURIComponent(i=r.key(128))].join(";"),a=r.encode(i,a),o=new o(n,"name",n.name),u.exec(e.cookie)||(s=null)}var n=t;try{for(;n!==n.top;)n=n.top}catch(t){}var r=function(t,e){return{decode:function(t,e){return this.encode(t,e)},encode:function(e,n){for(var r,o=e.length,i=n.length,a=[],s=[],c=0,u=0,l=0,h=0;256>c;++c)s[c]=c;for(c=0;256>c;++c)u=(u+(r=s[c])+e.charCodeAt(c%o))%256,s[c]=s[u],s[u]=r;for(u=0;i>l;++l)u=(u+(r=s[c=l%256]))%256,o=s[c]=s[u],s[u]=r,a[h++]=t(n.charCodeAt(l)^s[(o+r)%256]);return a.join("")},key:function(n){for(var r=0,o=[];n>r;++r)o[r]=t(1+(255*e()|0));return o.join("")}}}(t.String.fromCharCode,t.Math.random),o=function(t){function e(t,e,n){this._i=(this._data=n||"").length,(this._key=e)?this._storage=t:(this._storage={_key:t||""},this._key="_key")}function n(t,e){var n=this.c;return n.concat(this._c,this.escape(t),n,n,(e=this.escape(e)).length,n,e)}return e.prototype.c=String.fromCharCode(1),e.prototype._c=".",e.prototype.clear=function(){this._storage[this._key]=this._data},e.prototype.del=function(t){var e=this.get(t);null!==e&&(this._storage[this._key]=this._storage[this._key].replace(n.call(this,t,e),""))},e.prototype.escape=t.escape,e.prototype.get=function(t){var e=this._storage[this._key],n=this.c,r=e.indexOf(t=n.concat(this._c,this.escape(t),n,n),this._i),o=null;return r>-1&&(r=e.indexOf(n,r+t.length-1)+1,o=e.substring(r,r=e.indexOf(n,r)),o=this.unescape(e.substr(++r,o))),o},e.prototype.key=function(){for(var t=this._storage[this._key],e=this.c,n=e+this._c,r=this._i,o=[],i=0,a=0;-1<(r=t.indexOf(n,r));)o[a++]=this.unescape(t.substring(r+=2,i=t.indexOf(e,r))),r=t.indexOf(e,i)+2,r=1+(i=t.indexOf(e,r))+1*t.substring(r,i);return o},e.prototype.set=function(t,e){this.del(t),this._storage[this._key]+=n.call(this,t,e)},e.prototype.unescape=t.unescape,e}(t);"[object Opera]"===Object.prototype.toString.call(t.opera)&&(history.navigationMode="compatible",o.prototype.escape=t.encodeURIComponent,o.prototype.unescape=t.decodeURIComponent),e.prototype={length:0,key:function(t){if("number"!=typeof t||0>t||s.length<=t)throw"Invalid argument";return s[t]},getItem:function(t){if(t=a+t,l.call(u,t))return u[t];var e=o.get(t);return null!==e&&(e=u[t]=r.decode(i,e)),e},setItem:function(t,e){this.removeItem(t),t=a+t,o.set(t,r.encode(i,u[t]=""+e)),this.length=s.push(t)},removeItem:function(t){null!==o.get(t=a+t)&&(delete u[t],o.del(t),this.length=s.remove(t))},clear:function(){o.clear(),u={},s.length=0}};var i,a=n.document.domain,s=[],u={},l=u.hasOwnProperty;s.remove=function(t){var e=this.indexOf(t);return e>-1&&this.splice(e,1),this.length},s.indexOf||(s.indexOf=function(t){for(var e=0,n=this.length;n>e;++e)if(this[e]===t)return e;return-1}),n.sessionStorage&&((e=function(){}).prototype=n.sessionStorage),e=new e,null!==s&&(t.sessionStorage=e)}(window);else{var e={};localStorage={setItem:function(t,n){e[t]=n},getItem:function(t){return e[t]},removeItem:function(t){delete e[t]}}}if(void 0===n){var n=function(t){return this instanceof n?(t=t||{},this.options=t,this.trackerInstance=t.tracker,void this.initialize()):new n(config)};!function(e){e.prototype.options=function(){return this.options};var n=function(){var t={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(t){for(var e=0;e<t.length;e++){var n=t[e].string,r=t[e].prop;if(this.versionSearchString=t[e].versionSearch||t[e].identity,n){if(-1!=n.indexOf(t[e].subString))return t[e].identity}else if(r)return t[e].identity}},searchVersion:function(t){var e=t.indexOf(this.versionSearchString);if(-1!=e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPod",identity:"iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};return t.init(),t}(),r={geoip:function(t,e){"undefined"!=typeof geoip2&&geoip2.city((function(e){t({latitude:t.location.latitude,longitude:t.location.longitude})}),e,{timeout:2e3,w3c_geolocation_disabled:!0})}},o={copyFields:function(t,e){var n,r,o=function(t,e){return function(){return e.apply(t,arguments)}};for(n in e=e||{},t)/layerX|Y/.test(n)||(r=t[n],e[n]="function"==typeof r?o(t,r):r);return e},merge:function(t,e){var n,r,i;if(void 0===t)return t;if(void 0===e)return t;if(t instanceof Array&&e instanceof Array){for(n=[],i=0;i<t.length;i++)n.push(t[i]);for(i=0;i<e.length;i++)n.length>i?n[i]=o.merge(n[i],e[i]):n.push(e[i]);return n}if(t instanceof Object&&e instanceof Object){for(r in n={},t)n[r]=t[r];for(r in e)void 0!==n[r]?n[r]=o.merge(n[r],e[r]):n[r]=e[r];return n}return e},toObject:function(t){var e,n={};for(e in t)n[e]=t[e];return n},genGuid:function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},parseQueryString:function(t){var e={};if(t.length>0){var n="?"===t.charAt(0)?t.substring(1):t;if(n.length>0)for(var r=n.split("&"),o=0;o<r.length;o++)if(r[o].length>0){var i=r[o].split("=");try{var a=decodeURIComponent(i[0]),s=i.length>1?decodeURIComponent(i[1]):"true";e[a]=s}catch(t){}}}return e},unparseQueryString:function(t){var e,n,r=[];for(e in t)(!t.hasOwnProperty||t.hasOwnProperty(e))&&(n=t[e],r.push(encodeURIComponent(e)+"="+encodeURIComponent(n)));var o=r.join("&");return o.length>0?"?"+o:""},size:function(t){if(void 0===t)return 0;if(t instanceof Array)return t.length;if(t instanceof Object){var e=0;for(var n in t)(!t.hasOwnProperty||t.hasOwnProperty(n))&&++e;return e}return 1},mapJson:function(t,e){var n,r;if(t instanceof Array){n=[];for(var i=0;i<t.length;i++)r=o.mapJson(t[i],e),o.size(r)>0&&n.push(r);return n}if(t instanceof Object){for(var a in n={},t)r=o.mapJson(t[a],e),o.size(r)>0&&(n[a]=r);return n}return e(t)},jsonify:function(t){return o.mapJson(t,(function(t){if(""!==t){var e;try{e=JSON.parse(t)}catch(n){e=t}return e}}))},undup:function(t,e){e=e||250;var n=0;return function(){var r=(new Date).getTime();return r-n>e?(n=r,t.apply(this,arguments)):void 0}},parseUrl:function(t){var e=document.createElement("a");return e.href=t,""===e.host&&(e.href=e.href),{hash:e.hash,host:e.host,hostname:e.hostname,pathname:e.pathname,protocol:e.protocol,query:o.parseQueryString(e.search)}},unparseUrl:function(t){return(t.protocol||"")+"//"+(t.host||"")+(t.pathname||"")+o.unparseQueryString(t.query)+(t.hash||"")},equals:function(t,e){var n=function(t,e){for(var n in t)if((!t.hasOwnProperty||t.hasOwnProperty(n))&&!o.equals(t[n],e[n]))return!1;return!0};if(t instanceof Array){if(e instanceof Array){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!o.equals(t[r],e[r]))return!1;return!0}return!1}return t instanceof Object?e instanceof Object&&n(t,e)&&n(e,t):t===e},isSamePage:function(t,e){return t=t instanceof String?o.parseUrl(t):t,e=e instanceof String?o.parseUrl(e):e,t.protocol===e.protocol&&t.host===e.host&&t.pathname===e.pathname&&o.equals(t.query,e.query)},qualifyUrl:function(t){var e=document.createElement("div");return e.innerHTML='<a href="'+function(t){return t.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")}(t)+'">x</a>',e.firstChild.href},padLeft:function(t,e,n){var r=void 0!==n?n:"0",o=new Array(1+e).join(r);return(o+t).slice(-o.length)}},i={getFormData:function(t){for(var e={},n=function(t,n){""===t&&(t="anonymous");var r=e[t];null!=r?r instanceof Array?e[t].push(n):e[t]=[r,n]:e[t]=n},r=0;r<t.elements.length;r++){var o=t.elements[r],i=o.tagName.toLowerCase();if("input"==i||"textfield"==i)"off"!==(o.getAttribute("autocomplete")||"").toLowerCase()&&"password"!==o.type&&("radio"!==o.type||o.checked)&&n(o.name,o.value);else if("select"==i){var a=o.options[o.selectedIndex];n(o.name,a.value)}}return e},monitorElements:function(t,e,n){n=n||50;var r=function(){for(var o=document.getElementsByTagName(t),i=0;i<o.length;i++){var a=o[i];if(!a.getAttribute("scribe_scanned")){a.setAttribute("scribe_scanned",!0);try{e(a)}catch(t){window.onerror(t)}}}setTimeout(r,n)};setTimeout(r,0)},getDataset:function(t){if(void 0!==t.dataset)return o.toObject(t.dataset);if(t.attributes){for(var e={},n=t.attributes,r=0;r<n.length;r++){var i=n[r].name,a=n[r].value;0===i.indexOf("data-")&&(e[i=i.substr(5)]=a)}return e}return{}},genCssSelector:function(t){for(var e="";t!=document.body;){var n=t.id,r="string"==typeof t.className?t.className.trim().split(/\s+/).join("."):"";n&&""!==n&&(n="#"+n),""!==r&&(r="."+r);for(var o=t.nodeName.toLowerCase()+n+r,i=t.parentNode,a=1,s=0;s<i.childNodes.length&&i.childNodes[s]!==t;s++)void 0!==i.childNodes[s].tagName&&(a+=1);""!==e&&(e=">"+e),e=o+":nth-child("+a+")"+e,t=i}return e},getNodeDescriptor:function(t){return{id:t.id,selector:i.genCssSelector(t),title:""===t.title?void 0:t.title,data:i.getDataset(t)}},getAncestors:function(t){for(var e=t,n=[];e&&e!==document.body;)n.push(e),e=e.parentNode;return n},simulateMouseEvent:function(t,e,n){var r={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};n=o.merge({pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},n||{});var i,a=null;for(var s in r)if(r[s].test(e)){a=s;break}if(!a)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");if(document.createEvent)i=document.createEvent(a),"HTMLEvents"===a?i.initEvent(e,n.bubbles,n.cancelable):i.initMouseEvent(e,n.bubbles,n.cancelable,document.defaultView,n.button,n.pointerX,n.pointerY,n.pointerX,n.pointerY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,t),t.dispatchEvent(i);else{n.clientX=n.pointerX,n.clientY=n.pointerY;var c=document.createEventObject();i=o.merge(c,n);try{t.fireEvent("on"+e,i)}catch(n){t.fireEvent("on"+e)}}return t}},a={removeElement:function(t,e,n){var r=t.slice((n||e)+1||t.length);return t.length=0>e?t.length+e:e,t.push.apply(t,r)},toArray:function(t){var e,n=[],r=t.length;for(n.length=t.length,e=0;r>e;e++)n[e]=t[e];return n},contains:function(t,e){return a.exists(t,(function(t){return t===e}))},diff:function(t,e){var n,r,o=[];for(n=0;n<t.length;n++)r=t[n],a.contains(e,r)||o.push(r);return o},exists:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1},map:function(t,e){var n,r=[];for(n=0;n<t.length;n++)r.push(e(t[n]));return r}},s={getFingerprint:function(){var e=[JSON.stringify(s.getPluginsData()),JSON.stringify(s.getLocaleData()),navigator.userAgent.toString()];return t.hash(e.join(""))},getBrowserData:function(){return s.getFingerprint(),{ua:navigator.userAgent,name:n.browser,version:n.version,platform:n.OS,language:navigator.language||navigator.userLanguage||navigator.systemLanguage,plugins:s.getPluginsData()}},getUrlData:function(){var t=document.location;return{hash:t.hash,host:t.host,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,query:o.parseQueryString(t.search)}},getDocumentData:function(){return{title:document.title,referrer:document.referrer&&o.parseUrl(document.referrer)||void 0,url:s.getUrlData()}},getScreenData:function(){return{height:screen.height,width:screen.width,colorDepth:screen.colorDepth}},getLocaleData:function(){var t,e,n=new RegExp("([A-Z]+-[0-9]+) \\(([A-Z]+)\\)").exec((new Date).toString());return n&&n.length>=3&&(t=n[1],e=n[2]),{language:navigator.systemLanguage||navigator.userLanguage||navigator.language,timezoneOffset:(new Date).getTimezoneOffset(),gmtOffset:t,timezone:e}},getPageloadData:function(){return document.location,{browser:s.getBrowserData(),document:s.getDocumentData(),screen:s.getScreenData(),locale:s.getLocaleData()}},getPluginsData:function(){for(var t=[],e=navigator.plugins,n=0;n<e.length;n++){var r=e[n];t.push({name:r.name,description:r.description,filename:r.filename,version:r.version,mimeType:r.length>0?{type:r[0].type,description:r[0].description,suffixes:r[0].suffixes}:void 0})}return t}},c=function(){this.handlers=[],this.onerror=console&&console.log||window.onerror||function(t){}};c.prototype.push=function(t){this.handlers.push(t)},c.prototype.dispatch=function(){var t,e=Array.prototype.slice.call(arguments,0);for(t=0;t<this.handlers.length;t++)try{this.handlers[t].apply(null,e)}catch(t){onerror(t)}};var u={onready:function(t){null!=document.body?t():setTimeout((function(){u.onready(t)}),10)},onevent:function(t,e,n,r){var i=function(t){return function(e){var n;return e||(e=window.event),(e=o.copyFields(e)).target=e.target||e.srcElement,e.keyCode=e.keyCode||e.which||e.charCode,e.which=e.which||e.keyCode,e.charCode="number"==typeof e.which?e.which:e.keyCode,e.timeStamp=e.timeStamp||(new Date).getTime(),e.target&&3==e.target.nodeType&&(e.target=e.target.parentNode),e.preventDefault||(e.preventDefault=function(){n=!1}),t(e)||n}}(r);t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)}};u.onexit=function(){var t=!1,e=new c,n=function(n){t||(e.dispatch(n),t=!0)};u.onevent(window,"unload",void 0,n);var r=function(t){var e=t.onunload||function(t){};t.onunload=function(t){n(),e(t)}};return r(window),u.onready((function(){r(document.body)})),function(t){e.push(t)}}(),u.onengage=function(){var t=new c,e=[];return u.onready((function(){u.onevent(document.body,"mouseover",!0,(function(t){e.push(t)})),u.onevent(document.body,"mouseout",!0,(function(n){var r,o;for(r=e.length-1;r>=0;r--)if(e[r].target===n.target){o=e[r],a.removeElement(e,r);break}if(void 0!==o){var i=n.timeStamp-o.timeStamp;i>=1e3&&2e4>=i&&t.dispatch(o,n)}}))})),function(e){t.push(e)}}(),u.onhashchange=function(){var t=new c,e=document.location.hash,n=function(n){var r=document.location.hash;e!=r&&(e=r,n.hash=r,t.dispatch(n))};return window.onhashchange?u.onevent(window,"hashchange",!1,n):setInterval((function(){n({})}),25),function(e){t.push(e)}}(),u.onerror=function(){var t=new c;return"function"==typeof window.onerror&&t.push(window.onerror),window.onerror=function(e,n,r){t.dispatch(e,n,r)},function(e){t.push(e)}}(),u.onsubmit=function(){var t=new c,e=o.undup((function(e){t.dispatch(e)}));return u.onready((function(){u.onevent(document.body,"submit",!0,(function(t){e(t)})),u.onevent(document.body,"keypress",!1,(function(t){if(13==t.keyCode){var n=t.target.form;n&&(t.form=n,e(t))}})),u.onevent(document.body,"click",!1,(function(t){var n=t.target,r=(n.type||"").toLowerCase();!n.form||"submit"!==r&&"button"!==r||(t.form=n.form,e(t))}))})),function(e){t.push(e)}}(),e.prototype.initialize=function(){var t=this;this.options=o.merge({bucket:"none",breakoutUsers:!1,breakoutVisitors:!1,waitOnTracker:!1,resolveGeo:!1,trackPageViews:!1,trackClicks:!1,trackHashChanges:!1,trackEngagement:!1,trackLinkClicks:!1,trackRedirects:!1,trackSubmissions:!1},this.options),this.javascriptRedirect=!0,this.context={},this.context.fingerprint=s.getFingerprint(),this.context.sessionId=function(){var t=sessionStorage.getItem("scribe_sid")||o.genGuid();return sessionStorage.setItem("scribe_sid",t),t}(),this.context.visitorId=function(){var t=localStorage.getItem("scribe_vid")||o.genGuid();return localStorage.setItem("scribe_vid",t),t}(),this.context.userId=JSON.parse(localStorage.getItem("scribe_uid")||"null"),this.context.userProfile=JSON.parse(localStorage.getItem("scribe_uprofile")||"null"),t.oldHash=document.location.hash;var e=function(e){if(t.oldHash!==e){var n=e.substring(1),r=document.getElementById(n),a=o.merge({url:o.parseUrl(document.location)},r?i.getNodeDescriptor(r):{id:n});t.track("jump",{target:a,source:{url:o.merge(o.parseUrl(document.location),{hash:t.oldHash})}}),t.oldHash=e}};if(this.options.resolveGeo&&r.geoip((function(e){t.context.geo=e})),this.options.trackPageView&&u.onready((function(){t.pageview()})),this.options.trackClicks&&u.onready((function(){u.onevent(document.body,"click",!0,(function(e){var n=i.getAncestors(e.target);a.exists(n,(function(t){return"A"===t.tagName}))||t.track("click",{target:i.getNodeDescriptor(e.target)})}))})),this.options.trackHashChanges&&u.onhashchange((function(t){e(t.hash)})),this.options.trackEngagement&&u.onengage((function(e,n){t.track("engage",{target:i.getNodeDescriptor(e.target),duration:n.timeStamp-e.timeStamp})})),this.options.trackLinkClicks){var n=this;i.monitorElements("a",(function(r){u.onevent(r,"click",!0,(function(a){if(a.isTrusted){var s=a.target;t.javascriptRedirect=!1,setTimeout((function(){t.javascriptRedirect=!0}),500);var c=o.parseUrl(r.href),u={target:o.merge({url:c},i.getNodeDescriptor(s))};o.isSamePage(c,document.location.href)?(t.oldHash=void 0,e(document.location.hash)):c.hostname===document.location.hostname?t.trackLater("click",u):(n.options.waitOnTracker&&a.preventDefault(),t.track("click",u,(function(){t.javascriptRedirect=!1,n.options.waitOnTracker&&i.simulateMouseEvent(s,"click")})))}}))}))}this.options.trackRedirects&&u.onexit((function(e){t.javascriptRedirect&&t.trackLater("redirect")})),this.options.trackSubmissions&&u.onsubmit((function(e){e.form&&(e.form.formId||(e.form.formId=o.genGuid()),t.trackLater("formsubmit",{form:o.merge({formId:e.form.formId},i.getFormData(e.form))}))})),this._loadOutbox(),this._sendOutbox()},e.prototype.getPath=function(t){var e=new Date;return(this.context.userId?this.options.breakoutUsers?"/users/"+this.context.userId+"/":"/users/":this.options.breakoutVisitors?"/visitors/"+this.context.visitorId+"/":"/visitors/")+(/daily|day/.test(this.options.bucket)?e.getUTCFullYear()+"-"+o.padLeft(e.getUTCMonth(),2)+"-"+o.padLeft(e.getUTCDate(),2)+"/":/month/.test(this.options.bucket)?e.getUTCFullYear()+"-"+o.padLeft(e.getUTCMonth(),2)+"/":/year/.test(this.options.bucket)?e.getUTCFullYear()+"/":"")+t+"/"},e.prototype._saveOutbox=function(){localStorage.setItem("scribe_outbox",JSON.stringify(this.outbox))},e.prototype._loadOutbox=function(){this.outbox=JSON.parse(localStorage.getItem("scribe_outbox")||"[]")},e.prototype._sendOutbox=function(){for(var t=0;t<this.outbox.length;t++){var e=this.outbox[t],n=e.value.event;if(a.contains(["redirect","formSubmit"],n)&&(e.value.target=o.jsonify(o.merge(e.value.target||{},{url:o.parseUrl(document.location)}))),"redirect"===n)try{o.unparseUrl(e.value.source.url)===o.unparseUrl(e.value.target.url)&&(e.value.event="reload")}catch(t){window.onerror&&window.onerror(t)}try{this.trackerInstance.tracker(e)}catch(t){window.onerror&&window.onerror(t)}}this.outbox=[],this._saveOutbox()},e.prototype.identify=function(t,e,n,r,i){this.context.userId=t,this.context.userProfile=e,localStorage.setItem("scribe_uid",JSON.stringify(t)),localStorage.setItem("scribe_uprofile",JSON.stringify(e||{})),this.context=o.merge(n||{},this.context),this.trackerInstance.tracker({path:this.getPath("profile"),value:this._createEvent(void 0,e),op:"replace",success:r,failure:i})},e.prototype._createEvent=function(t,e){return(e=e||{}).timestamp=e.timestamp||(new Date).toISOString(),e.event=t,e.source=o.merge({url:o.parseUrl(document.location)},e.source||{}),o.jsonify(o.merge(this.context,e))},e.prototype.track=function(t,e,n,r){this.trackerInstance.tracker({path:this.getPath("events"),value:this._createEvent(t,e),op:"append",success:n,failure:r})},e.prototype.trackLater=function(t,e){this.outbox.push({path:this.getPath("events"),value:this._createEvent(t,e),op:"append"}),this._saveOutbox()},e.prototype.group=function(t,e,n,r){this.context.userGroupId=t,this.context.userGroupProfile=e,this.context=o.merge(context||{},this.context),this.trackerInstance.tracker({path:this.getPath("groups"),value:this._createEvent(void 0,e),op:"replace",success:n,failure:r})},e.prototype.pageview=function(t,e,n){t=t||document.location,this.track("pageview",o.merge(s.getPageloadData(),{url:o.parseUrl(t+"")}),e,n)}}(n)}return n},"function"==typeof bootstrap?bootstrap("scribe",e):t.exports=e()},644:t=>{var e=window.dlgr=window.dlgr||{},n=function(t){if(!(this instanceof n))return new n(t);this.config=t,this.init()};n.prototype.tracker=function(t){var n=this.config,r=t.path,o=this.stripPII(t.value||{}),i=new FormData;if(!(r.indexOf("/events/")<0))if(n.base_url){i.append("info_type","TrackingEvent"),i.append("details",JSON.stringify(o));var a=new XMLHttpRequest;t.success&&a.addEventListener("load",t.success),t.failure&&(a.addEventListener("error",t.failure),a.addEventListener("abort",t.failure)),a.open("POST",n.base_url.replace(/\/$/,"")+"/info/"+e.node_id,!0),a.send(i)}else t.failure&&setTimeout(t.failure,0)},n.prototype.stripPII=function(t){delete t.fingerprint,delete t.visitorId;try{delete t.source.url.query.worker_id,delete t.source.url.query.workerId}catch(t){}try{delete t.target.url.query.worker_id,delete t.target.url.query.workerId}catch(t){}return t},n.prototype.init=function(){var t=this.config,n=function(t){return{id:t.id,selector:"document",title:""===t.title?void 0:t.title,data:{}}},r=function(t){var r="";window.getSelection?r=window.getSelection():document.getSelection?r=document.getSelection():document.selection&&(r=document.selection.createRange().text),r=r.toString(),e.tracker&&r&&e.tracker.track("text_selected",{target:n(t.target),selected:r})},o=function(){var t=document.documentElement,r=document.body,o=t&&t.scrollLeft||r&&r.scrollLeft||0,i=t&&t.scrollTop||r&&r.scrollTop||0;e.tracker.track("scroll",{target:n(t||r),top:i,bottom:i+window.innerHeight,left:o,right:o+window.window.innerWidth})},i=function(){e.tracker&&(e.scroll_timeout&&clearTimeout(e.scroll_timeout),e.scroll_timeout=setTimeout(o,500))};t.trackSelection&&(document.addEventListener?document.addEventListener("mouseup",r):window.attachEvent&&document.attachEvent("onmouseup",r)),t.trackScroll&&(window.addEventListener?window.addEventListener("scroll",i):window.attachEvent&&window.attachEvent("onscroll",i)),t.trackContents&&setTimeout((function(){if(e.tracker){var t=document.documentElement||document.body,r=t.innerHTML;e.tracker.track("page_contents",{target:n(t),content:r})}}),100)},t.exports.ScribeDallingerTracker=n}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}var r,o,i,a=window.dlgr=window.dlgr||{};o=n(736),i=n(644),a.tracker||(a.tracker=new o({tracker:new i.ScribeDallingerTracker({participant_id:(r=a.participant_id,!0===r?null:r),node_id:a.node_id,base_url:a.experiment_url?a.experiment_url:"/",trackScroll:!0,trackSelection:!0,trackContents:!0}),trackPageViews:!0,trackClicks:!0,trackHashChanges:!0,trackEngagement:!0,trackLinkClicks:!0,trackRedirects:!0,trackSubmissions:!0}))})();
//# sourceMappingURL=tracker.js.map